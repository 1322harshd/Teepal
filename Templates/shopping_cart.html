{% extends "base.html" %}
{% block content %} 
<h2>Shopping Cart</h2>
  <div class="total">
    
    
  </div>
  <div id="shopping_cart" class="lists">
    {% for product in products %}
      <div class="sc_1">
        <img src="{{ url_for('static', filename=product.image) }}" alt="{{ product.item }}" width="100">
        <div class="sc_1_middle">
        <span>{{ product.brand }}</span>
        <h5>{{ product.item }}</h5>
        <label class="quantity" for="quantity">Quantity:</label>
        <input type="number" name="quantity" id="quantity_{{ loop.index0 }}" value="1" min="1" onchange="updateTotal({{ loop.index0 }}, {{ product.price }})">
        <span>Ã— ${{ product.price }} = $<span id="total_{{ loop.index0 }}">{{ product.price }}</span></span>
        </div>
        <div class="sc_1_right">
          <a href="#"><i class="fa-solid fa-xmark"></i></a><br>
          <button onclick="window.location.href='/'">Design</button>
          <a href="#"><i class="fa-solid fa-heart" title="Save"></i></i></a>
        </div>
       
      </div>
    {% endfor %}
  </div>
  </div>
  <script>
    function updateTotal(index, price) {
      const qty = document.getElementById('quantity_' + index).value;
      document.getElementById('total_' + index).textContent = (qty * price).toFixed(2);
    }
  </script>
{% endblock %}
